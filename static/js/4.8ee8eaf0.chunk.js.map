{"version":3,"sources":["components/ShowName.js","utils/interpolate.js","components/MediaCard/MediaCard.js","utils/imgUrlMaker.js","utils/utils.js","components/MediaCard/styles.js"],"names":["ShowName","name","findImdbId","id","media_type","a","fetchExternalIds","externalId","imdbId","data","imdb_id","getImdbUrl","tmdbid","mediaType","url","MediaCard","props","makeImdbUrl","state","info","imdbUrl","setState","makeSearchQueries","mediaName","title","youtubeUrl","replace","youtubeSearchQueryGenerator","ytsUrl","encodeURIComponent","trim","ytsQuery","torrentLink","this","classes","Dashboard","Consumer","genre","path","filteredGenreNames","filter","genreList","genre_ids","includes","map","genres","Paper","className","movieCard","elevation","infoSection","movieHeader","Typography","movieTitle","variant","color","Link","underline","href","target","rel","vote_average","duration","first_air_date","release_date","index","key","description","descriptionText","text","length","ending","substring","textTruncate","overview","blurBackground","style","backgroundImage","backdrop_path","poster_path","projectConfig","imgURL","actions","Button","marginRight20","containedSecondary","youtubeRed","startIcon","Tooltip","tooltip","arrow","outlinedPrimary","ytsGreen","Component","withStyles","theme","position","height","margin","palette","common","white","backgroundColor","background","dark","borderRadius","transition","transform","width","backgroundBlendMode","zIndex","padding","spacing","fontSize","fontWeight","textTransform","director","marginTop","display","border","marginLeft","footer","paddingLeft","paddingBottom","icons","cursor","transitionDelay","top","right","backgroundSize","backgroundPosition","breakpoints","down","fullWidth","maxHeight","overflow","marginRight","left","bottom"],"mappings":"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","file":"static/js/4.8ee8eaf0.chunk.js","sourcesContent":["import React from 'react';\nimport { PropTypes } from 'prop-types';\n\nconst ShowName = ({ name }) => <span>{name}</span>;\n\nShowName.propTypes = {\n  name: PropTypes.string.isRequired\n};\nexport default ShowName;\n","/* eslint-disable camelcase */\nimport { fetchExternalIds } from 'services/apiServices';\n\n/**\n * Build supplied string by interpolating properties inside delimiters('{ }') with the given parameters.\n *\n * @example\n * interpolate(':name is here.', {name: 'Barbara'})\n * => 'Barbaba is here.'\n *\n * @param {string} str\n * @param {object} params\n * @returns {string}\n */\nexport function interpolate(str, params) {\n  let formattedString = str;\n\n  for (const [key, value] of Object.entries(params)) {\n    const val = value || '';\n\n    formattedString = formattedString.replace(new RegExp(':' + key, 'gi'), val.toString());\n  }\n\n  return formattedString;\n}\n\nexport async function findImdbId(id, media_type) {\n  const externalId = await fetchExternalIds(id, media_type);\n  const imdbId = externalId.data.imdb_id;\n\n  return imdbId;\n}\n\nexport async function getImdbUrl(tmdbid, mediaType) {\n  const imdbId = await findImdbId(tmdbid, mediaType);\n  const url = 'https://imdb.com/title/' + imdbId;\n\n  return url;\n}\n\nexport function youtubeSearchQueryGenerator(mediaName) {\n  return `https://www.youtube.com/results?search_query=${mediaName.replace(/ /g, '+')}+1080p+trailer`;\n}\n\nexport function ytsQuery(mediaName) {\n  return `https://yts.mx/browse-movies/${encodeURIComponent(mediaName.trim())}/all/all/0/latest/0/all`;\n}\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport ShowName from 'components/ShowName';\nimport Button from '@material-ui/core/Button';\nimport SearchIcon from '@material-ui/icons/Search';\nimport YouTubeIcon from '@material-ui/icons/YouTube';\nimport { DashboardContext } from 'components/Dashboard';\nimport { withStyles, Paper, Typography, Tooltip, Link } from '@material-ui/core';\nimport { getImdbUrl, youtubeSearchQueryGenerator, ytsQuery } from 'utils/interpolate';\n\nimport styles from './styles';\n\nimport { textTruncate } from '../../utils/utils';\nimport { imgUrlMaker } from '../../utils/imgUrlMaker';\n\nclass MediaCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      info: props.info,\n      imdbUrl: '',\n      youtubeUrl: '',\n      torrentLink: ''\n    };\n  }\n\n  makeImdbUrl = async () => {\n    const imdbUrl = await getImdbUrl(this.state.info.id, this.state.info.media_type);\n\n    this.setState({\n      imdbUrl: imdbUrl\n    });\n  };\n\n  makeSearchQueries = () => {\n    const mediaName = this.state.info.title || this.state.info.name;\n    const youtubeUrl = youtubeSearchQueryGenerator(mediaName);\n    const ytsUrl = ytsQuery(mediaName);\n\n    this.setState({\n      youtubeUrl: youtubeUrl,\n      torrentLink: ytsUrl\n    });\n  };\n\n  componentDidMount() {\n    this.makeImdbUrl();\n    this.makeSearchQueries();\n  }\n  render() {\n    const classes = this.props.classes;\n\n    return (\n      <DashboardContext.Consumer>\n        {(genre) => {\n          const filteredGenres = genre.filter((genreList) => this.state.info.genre_ids.includes(genreList.id));\n          const filteredGenreNames = filteredGenres.map((genres) => genres.name);\n\n          return (\n            <Paper className={classes.movieCard} elevation={20}>\n              <div className={classes.infoSection}>\n                <header className={classes.movieHeader}>\n                  <Typography className={classes.movieTitle} variant=\"h1\" color=\"inherit\">\n                    {this.state.info.media_type === 'movie' ? (\n                      <ShowName name={this.state.info.title} />\n                    ) : (\n                      <ShowName name={this.state.info.name} />\n                    )}\n                  </Typography>\n                  <Link\n                    underline=\"none\"\n                    href={this.state.imdbUrl || '#'}\n                    target=\"_blank\"\n                    title=\"Open in imdb\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    <div className=\"vote\">\n                      {this.state.info.vote_average}\n                      <span className=\"out-of-10\">/10</span>\n                    </div>\n                  </Link>\n                  <Typography className={classes.duration} variant=\"body1\" color=\"inherit\">\n                    {this.state.info.first_air_date || this.state.info.release_date}\n                  </Typography>\n                  <Typography className={classes.genre} variant=\"body1\" color=\"inherit\">\n                    {filteredGenreNames.map((genre, index) => (\n                      <li className=\"genre-list\" key={index}>\n                        {genre}\n                      </li>\n                    ))}\n                  </Typography>\n                </header>\n\n                <div className={classes.description}>\n                  <Typography className={classes.descriptionText} variant=\"body1\" color=\"inherit\">\n                    {textTruncate(this.state.info.overview, 250)}\n                  </Typography>\n                </div>\n              </div>\n              <div\n                className={classes.blurBackground}\n                style={{\n                  backgroundImage: `url(${imgUrlMaker(this.state.info.backdrop_path || this.state.info.poster_path)})`\n                }}\n              />\n              <div className={classes.actions}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  className={classes.marginRight20}\n                  classes={{ containedSecondary: classes.youtubeRed }}\n                  startIcon={<YouTubeIcon />}\n                  href={this.state.youtubeUrl}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  Watch Trailer\n                </Button>\n                <Tooltip classes={{ tooltip: classes.tooltip }} arrow title=\"Heuristic. Might show empty results.\">\n                  <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    classes={{ outlinedPrimary: classes.ytsGreen }}\n                    startIcon={<SearchIcon />}\n                    href={this.state.torrentLink}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    Search Torrent\n                  </Button>\n                </Tooltip>\n              </div>\n            </Paper>\n          );\n        }}\n      </DashboardContext.Consumer>\n    );\n  }\n}\n\nMediaCard.propTypes = {\n  info: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(MediaCard);\n","import { projectConfig } from '../projectConfig';\n\nexport function imgUrlMaker(path) {\n  const url = projectConfig.imgURL + path;\n\n  return url;\n}\n","export const textTruncate = (text = '', length = 250) => {\n  const ending = '...';\n\n  if (length === null) {\n    length = 100;\n  }\n\n  if (text?.length > length) {\n    return text.substring(0, length - ending?.length) + ending;\n  } else {\n    return text;\n  }\n};\n","export default (theme) => ({\n  movieCard: {\n    position: 'relative',\n    height: 400,\n    margin: '20px 10px',\n    color: theme.palette.common.white,\n    backgroundColor: theme.palette.background.dark,\n    borderRadius: 10,\n    transition: 'all 0.4s',\n    '&:hover': {\n      transform: 'scale(1.02)',\n      transition: 'all 0.4s'\n    }\n  },\n  infoSection: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n    backgroundBlendMode: 'multiply',\n    background: 'linear-gradient(to right, #0d0d0c 50%, transparent 100%)',\n    zIndex: 2,\n    borderRadius: 10\n  },\n  movieHeader: {\n    position: 'relative',\n    padding: theme.spacing(2),\n    height: '40%',\n    width: '60%'\n  },\n  movieTitle: {\n    fontSize: '25px',\n    fontWeight: 400,\n    textTransform: 'capitalize'\n  },\n  director: {\n    color: '#9ac7fa',\n    fontWeight: '500',\n    fontSize: '16px',\n    marginTop: theme.spacing(1)\n  },\n  duration: {\n    display: 'inline-block',\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(1),\n    border: '1px solid rgba(255,255,255,0.13)'\n  },\n  genre: {\n    display: 'inline-block',\n    color: '#cee4fd',\n    marginLeft: theme.spacing(2)\n  },\n  description: {\n    padding: theme.spacing(2),\n    height: '50%',\n    width: '50%'\n  },\n  descriptionText: {\n    color: '#cfd6e1'\n  },\n  footer: {\n    height: '10%',\n    paddingLeft: theme.spacing(2),\n    paddingBottom: theme.spacing(3)\n  },\n  icons: {\n    display: 'inline-block',\n    cursor: 'pointer',\n    color: 'rgba(255, 255, 255, 0.4)',\n    margin: theme.spacing(0, 1),\n    transition: 'all 0.3s',\n    '&:hover': {\n      color: 'rgba(255, 255, 255, 0.8)',\n      transform: 'scale(1.25)',\n      transition: 'all 0.3s',\n      transitionDelay: '0.15s'\n    }\n  },\n  blurBackground: {\n    position: 'absolute',\n    top: 0,\n    zIndex: 1,\n    height: '100%',\n    right: 0,\n    backgroundSize: 'cover !important',\n    borderRadius: 11,\n    width: '80%',\n    backgroundPosition: '-100% 10% !important'\n  },\n\n  [theme.breakpoints.down('sm')]: {\n    fullWidth: { width: '100%' },\n    movieCard: {\n      width: '90%',\n      margin: '0 auto'\n      // height: 'auto'\n    },\n    blurBackground: {\n      width: '100%',\n      backgroundPosition: '50% 50% !important'\n    },\n    movieHeader: {\n      width: '100%',\n      marginTop: theme.spacing(3)\n    },\n    description: {\n      width: '80%',\n      maxHeight: 100,\n      overflow: 'hidden'\n    },\n    infoSection: {\n      background: 'linear-gradient(to top, rgb(20, 20, 19) 50%, transparent 100%)',\n      zIndex: 2,\n      borderRadius: 10\n    },\n    ytsGreen: {\n      display: 'none'\n    }\n    // actions: {\n    //   left: '16px !important'\n    // }\n  },\n  marginRight20: {\n    marginRight: 20\n  },\n  youtubeRed: {\n    backgroundColor: '#FF0000'\n  },\n  ytsGreen: {\n    color: '#6ac045',\n    border: '1px solid #6ac045'\n  },\n  tooltip: {\n    fontSize: 14\n  },\n  actions: {\n    position: 'absolute',\n    zIndex: 3,\n    left: 16,\n    bottom: 10\n  }\n});\n"],"sourceRoot":""}