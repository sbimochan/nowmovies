(this["webpackJsonpnow-movies"]=this["webpackJsonpnow-movies"]||[]).push([[0],{13:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r="https://api.themoviedb.org/3",a={apiURI:r,imgURL:"https://image.tmdb.org/t/p/original",token:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZGI1YTM0M2U3N2Q0NzdlNmQwM2JlN2RkZjhhYTU0NSIsInN1YiI6IjVlNjg3NGQwMmYzYjE3MDAxOTNkZjFkNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.KSpR_FInQJhwYWBiNSUQNSA-Ly7Sm5_beNFp2137kVQ",trendingUrl:r+"/trending",genreUrl:r+"/genre/movie/list"}},24:function(e,t,n){"use strict";var r=n(3),a=n.n(r),o=n(10),c=n(53),i=n.n(c),s=n(13),u=i.a.create({baseURL:s.a.apiURI,headers:{"Content-Type":"application/json"}});u.interceptors.request.use((function(e){var t=s.a.token;return t&&(e.headers.Authorization="Bearer ".concat(t)),e}));var l=u;function h(e,t){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(s.a.trendingUrl,"/").concat(t,"/").concat(n),e.next=3,l.get(r);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.a.genreUrl,e.next=3,l.get(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(s.a.apiURI,"/").concat(n,"/").concat(t,"/external_ids"),e.next=3,l.get(r);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return v}))},48:function(e,t,n){"use strict";var r=n(46),a=n(3),o=n.n(a),c=n(10),i=n(36),s=n(37),u=n(49),l=n(47),h=n(1),f=n.n(h),m=n(107),p=n(94),v=n(110),d=n(106),w=f.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,129))})),g=function(){var e=Object(d.a)((function(){return{root:{backgroundColor:"#353940",marginBottom:10},wrapper:{margin:"5px 10px"}}}))();return f.a.createElement(v.a,{classes:{root:e.wrapper}},f.a.createElement(m.a,{variant:"text",width:200,height:25,classes:{root:e.root}}),f.a.createElement(m.a,{variant:"text",width:70,height:20,classes:{root:e.root}}),f.a.createElement(m.a,{variant:"text",width:200,height:50,classes:{root:e.root}}),f.a.createElement(m.a,{variant:"rect",width:864,height:240,classes:{root:e.root}}),f.a.createElement(v.a,{style:{display:"flex"}},f.a.createElement(m.a,{variant:"rect",width:170,height:35,classes:{root:e.root},style:{marginRight:20}}),f.a.createElement(m.a,{variant:"rect",width:170,height:35,classes:{root:e.root}})))},b=function(e){var t=e.results,n=e.title;return f.a.createElement("div",{className:"bar"},f.a.createElement(p.a,{variant:"h4",className:"heading"},n),f.a.createElement("div",{className:"row"},t.map((function(e,t){return f.a.createElement(h.Suspense,{fallback:f.a.createElement(g,null),key:t},f.a.createElement(w,{info:e,key:t}))}))))},k=n(24),y=n(108);n.d(t,"a",(function(){return E}));var E=f.a.createContext(),x=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchMovies=Object(c.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(k.c)("movie",r.state.timeWindow);case 3:if(t=e.sent,!(n=t.data)||!n.results){e.next=7;break}return e.abrupt("return",n.results);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),r.fetchShows=Object(c.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(k.c)("tv",r.state.timeWindow);case 3:if(t=e.sent,!(n=t.data)||!n.results){e.next=7;break}return e.abrupt("return",n.results);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),r.storeGenres=Object(c.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(k.b)();case 3:if(t=e.sent,!(n=t.data)){e.next=7;break}return e.abrupt("return",n.genres);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),r.state={timeWindow:"day",movies:[],shows:[],genres:[]},r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,n,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.fetchMovies(),this.fetchShows(),this.storeGenres()]);case 2:t=e.sent,n=Object(r.a)(t,3),a=n[0],c=n[1],i=n[2],this.setState({movies:a,shows:c,genres:i});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return f.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center",style:{overflowY:"hidden"}},f.a.createElement(E.Provider,{value:this.state.genres},f.a.createElement(y.a,{item:!0,md:6},this.state.movies&&f.a.createElement(b,{results:this.state.movies,title:"Trending Movies"})),f.a.createElement(y.a,{item:!0,md:6},this.state.shows&&f.a.createElement(b,{results:this.state.shows,title:"Trending TV Shows"}))))}}]),n}(h.Component);t.b=x},62:function(e,t,n){e.exports=n(92)},67:function(e,t,n){},68:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(19),c=n.n(o),i=(n(67),n(68),n(48)),s=n(110),u=n(109),l=n(54),h=n.n(l),f=n(55),m=n.n(f);var p=function(){return a.a.createElement(s.a,null,a.a.createElement(s.a,{className:"container-wrap"},a.a.createElement(i.b,null)),a.a.createElement("footer",{className:"page-footer"},a.a.createElement(u.a,{href:"https://github.com/sbimochan/nowmovies",target:"_blank",rel:"noopener noreferrer",variant:"body2",style:{marginRight:16,color:"#0e0e0c"}},a.a.createElement(h.a,{fontSize:"large"})),a.a.createElement(u.a,{href:"https://instagram.com/sbimochan",target:"_blank",rel:"noopener noreferrer",variant:"body2",style:{color:"#0e0e0c"}},a.a.createElement(m.a,{fontSize:"large"}))))},v=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function d(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!==n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(a.a.createElement(p,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/nowmovies",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/nowmovies","/service-worker.js");v?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!==r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e,t)})).catch((function(){}))}(t,e),navigator.serviceWorker.ready.then((function(){}))):d(t,e)}))}}()}},[[62,1,2]]]);
//# sourceMappingURL=main.48a9d6d2.chunk.js.map